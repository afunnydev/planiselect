 /**
 * This demo was prepared for you by Petr Tichy - Ihatetomatoes.net
 * Want to see more similar demos and tutorials?
 * Help by spreading the word about Ihatetomatoes blog.
 * Facebook - https://www.facebook.com/ihatetomatoesblog
 * Twitter - https://twitter.com/ihatetomatoes
 * Google+ - https://plus.google.com/u/0/109859280204979591787/about
 * Article URL: http://ihatetomatoes.net/how-to-make-parallax-website-responsive/
 */

(function(){function a(){}function c(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function d(a){return function(){return this[a].apply(this,arguments)}}var b=a.prototype;b.getListeners=function(b){var d,e,c=this._getEvents();if("object"==typeof b){d={};for(e in c)c.hasOwnProperty(e)&&b.test(e)&&(d[e]=c[e])}else d=c[b]||(c[b]=[]);return d},b.flattenListeners=function(b){var d,c=[];for(d=0;d<b.length;d+=1)c.push(b[d].listener);return c},b.getListenersAsObject=function(b){var d,c=this.getListeners(b);return c instanceof Array&&(d={},d[b]=c),d||c},b.addListener=function(b,d){var g,e=this.getListenersAsObject(b),f="object"==typeof d;for(g in e)e.hasOwnProperty(g)&&c(e[g],d)===-1&&e[g].push(f?d:{listener:d,once:!1});return this},b.on=d("addListener"),b.addOnceListener=function(b,c){return this.addListener(b,{listener:c,once:!0})},b.once=d("addOnceListener"),b.defineEvent=function(b){return this.getListeners(b),this},b.defineEvents=function(b){for(var c=0;c<b.length;c+=1)this.defineEvent(b[c]);return this},b.removeListener=function(b,d){var f,g,e=this.getListenersAsObject(b);for(g in e)e.hasOwnProperty(g)&&(f=c(e[g],d),f!==-1&&e[g].splice(f,1));return this},b.off=d("removeListener"),b.addListeners=function(b,c){return this.manipulateListeners(!1,b,c)},b.removeListeners=function(b,c){return this.manipulateListeners(!0,b,c)},b.manipulateListeners=function(b,c,d){var e,f,g=b?this.removeListener:this.addListener,h=b?this.removeListeners:this.addListeners;if("object"!=typeof c||c instanceof RegExp)for(e=d.length;e--;)g.call(this,c,d[e]);else for(e in c)c.hasOwnProperty(e)&&(f=c[e])&&("function"==typeof f?g.call(this,e,f):h.call(this,e,f));return this},b.removeEvent=function(b){var e,c=typeof b,d=this._getEvents();if("string"===c)delete d[b];else if("object"===c)for(e in d)d.hasOwnProperty(e)&&b.test(e)&&delete d[e];else delete this._events;return this},b.removeAllListeners=d("removeEvent"),b.emitEvent=function(b,c){var e,f,g,h,d=this.getListenersAsObject(b);for(g in d)if(d.hasOwnProperty(g))for(f=d[g].length;f--;)e=d[g][f],e.once===!0&&this.removeListener(b,e.listener),h=e.listener.apply(this,c||[]),h===this._getOnceReturnValue()&&this.removeListener(b,e.listener);return this},b.trigger=d("emitEvent"),b.emit=function(b){var c=Array.prototype.slice.call(arguments,1);return this.emitEvent(b,c)},b.setOnceReturnValue=function(b){return this._onceReturnValue=b,this},b._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},b._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.EventEmitter=a}).call(this),function(a){var b=document.documentElement,c=function(){};b.addEventListener?c=function(a,b,c){a.addEventListener(b,c,!1)}:b.attachEvent&&(c=function(b,c,d){b[c+d]=d.handleEvent?function(){var b=a.event;b.target=b.target||b.srcElement,d.handleEvent.call(d,b)}:function(){var c=a.event;c.target=c.target||c.srcElement,d.call(b,c)},b.attachEvent("on"+c,b[c+d])});var d=function(){};b.removeEventListener?d=function(a,b,c){a.removeEventListener(b,c,!1)}:b.detachEvent&&(d=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var e={bind:c,unbind:d};"function"==typeof define&&define.amd?define("eventie/eventie",e):a.eventie=e}(this),function(a){function e(a,b){for(var c in b)a[c]=b[c];return a}function g(a){return"[object Array]"===f.call(a)}function h(a){var b=[];if(g(a))b=a;else if("number"==typeof a.length)for(var c=0,d=a.length;c<d;c++)b.push(a[c]);else b.push(a);return b}function i(a,f){function g(a,c,d){if(!(this instanceof g))return new g(a,c);"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=h(a),this.options=e({},this.options),"function"==typeof c?d=c:e(this.options,c),d&&this.on("always",d),this.getImages(),b&&(this.jqDeferred=new b.Deferred);var f=this;setTimeout(function(){f.check()})}function j(a){this.img=a}g.prototype=new a,g.prototype.options={},g.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;a<b;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);for(var d=c.querySelectorAll("img"),e=0,f=d.length;e<f;e++){var g=d[e];this.addImage(g)}}},g.prototype.addImage=function(a){var b=new j(a);this.images.push(b)},g.prototype.check=function(){function f(f,g){return a.options.debug&&d&&c.log("confirm",f,g),a.progress(f),b++,b===e&&a.complete(),!0}var a=this,b=0,e=this.images.length;if(this.hasAnyBroken=!1,!e)return void this.complete();for(var g=0;g<e;g++){var h=this.images[g];h.on("confirm",f),h.check()}},g.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a),b.jqDeferred&&b.jqDeferred.notify(b,a)})},g.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,b),b.emit("always",b),b.jqDeferred){var c=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[c](b)}})},b&&(b.fn.imagesLoaded=function(a,c){var d=new g(this,a,c);return d.jqDeferred.promise(b(this))});var i={};return j.prototype=new a,j.prototype.check=function(){var a=i[this.img.src];if(a)return void this.useCached(a);if(i[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var b=this.proxyImage=new Image;f.bind(b,"load",this),f.bind(b,"error",this),b.src=this.img.src},j.prototype.useCached=function(a){if(a.isConfirmed)this.confirm(a.isLoaded,"cached was confirmed");else{var b=this;a.on("confirm",function(a){return b.confirm(a.isLoaded,"cache emitted confirmed"),!0})}},j.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},j.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},j.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindProxyEvents()},j.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindProxyEvents()},j.prototype.unbindProxyEvents=function(){f.unbind(this.proxyImage,"load",this),f.unbind(this.proxyImage,"error",this)},g}var b=a.jQuery,c=a.console,d="undefined"!=typeof c,f=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],i):a.imagesLoaded=i(a.EventEmitter,a.eventie)}(window);

// enquire v1.5.3 - Awesome Media Queries in JavaScript
// Copyright (c) 2012 Nick Williams - https://www.github.com/WickyNilliams/enquire.js
// License: MIT (http://www.opensource.org/licenses/mit-license.php)

window.enquire=function(e){"use strict";function t(e,t){var n=0,r=e.length,i;for(n;n<r;n++){i=t(e[n],n);if(i===!1)break}}function n(e){return Object.prototype.toString.apply(e)==="[object Array]"}function r(e){return typeof e=="function"}function i(e){this.initialised=!1,this.options=e,e.deferSetup||this.setup()}function s(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.matched=!1}function o(){if(!e)throw new Error("matchMedia is required");var t=new s("only all");this.queries={},this.listening=!1,this.browserIsIncapable=!t.matchMedia()}return i.prototype={setup:function(e){this.options.setup&&this.options.setup(e),this.initialised=!0},on:function(e){this.initialised||this.setup(e),this.options.match(e)},off:function(e){this.options.unmatch&&this.options.unmatch(e)},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},s.prototype={matchMedia:function(){return e(this.query).matches},addHandler:function(e,t){var n=new i(e);this.handlers.push(n),t&&this.matched&&n.on()},removeHandler:function(e){var n=this.handlers;t(n,function(t,r){if(t.equals(e))return t.destroy(),!n.splice(r,1)})},assess:function(e){this.matchMedia()||this.isUnconditional?this.match(e):this.unmatch(e)},match:function(e){if(this.matched)return;t(this.handlers,function(t){t.on(e)}),this.matched=!0},unmatch:function(e){if(!this.matched)return;t(this.handlers,function(t){t.off(e)}),this.matched=!1}},o.prototype={register:function(e,i,o){var u=this.queries,a=o&&this.browserIsIncapable,f=this.listening;return u.hasOwnProperty(e)||(u[e]=new s(e,a),this.listening&&u[e].assess()),r(i)&&(i={match:i}),n(i)||(i=[i]),t(i,function(t){u[e].addHandler(t,f)}),this},unregister:function(e,n){var r=this.queries;return r.hasOwnProperty(e)?(n?r[e].removeHandler(n):(t(this.queries[e].handlers,function(e){e.destroy()}),delete r[e]),this):this},fire:function(e){var t=this.queries,n;for(n in t)t.hasOwnProperty(n)&&t[n].assess(e);return this},listen:function(e){function s(t){var n;r(t,function(t){n&&clearTimeout(n),n=setTimeout(function(){i.fire(t)},e)})}var t="resize",n="orientationChange",r=window.addEventListener||window.attachEvent,i=this;return e=e||500,window.attachEvent&&(t="on"+t,n="on"+n),this.listening?this:(i.fire(),s(t),s(n),this.listening=!0,this)}},new o}(window.matchMedia);


!function(a,b,c){"use strict";function V(c){if(h=b.documentElement,i=b.body,R(),sa=this,c=c||{},za=c.constants||{},c.easing)for(var d in c.easing)U[d]=c.easing[d];Na=c.edgeStrategy||"set",va={beforerender:c.beforerender,render:c.render},wa=c.forceHeight!==!1,wa&&(ya=c.scale||1),Aa=c.mobileDeceleration||x,Ia=c.smoothScrolling!==!1,Ja=c.smoothScrollingDuration||y,Ka={targetTop:sa.getScrollTop()},Oa=(c.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||a.opera)})(),Oa?(ua=b.getElementById("skrollr-body"),ua&&fa(),W(),na(h,[r,u],[s])):na(h,[r,t],[s]),sa.refresh(),ga(a,"resize orientationchange",function(){var a=h.clientWidth,b=h.clientHeight;b===Fa&&a===Ea||(Fa=b,Ea=a,Ga=!0)});var e=S();return function a(){Z(),Sa=e(a)}(),sa}var h,i,d=a.skrollr={get:function(){return sa},init:function(a){return sa||new V(a)},VERSION:"0.6.21"},e=Object.prototype.hasOwnProperty,f=a.Math,g=a.getComputedStyle,j="touchstart",k="touchmove",l="touchcancel",m="touchend",n="skrollable",o=n+"-before",p=n+"-between",q=n+"-after",r="skrollr",s="no-"+r,t=r+"-desktop",u=r+"-mobile",v="linear",w=1e3,x=.004,y=200,z="start",A="end",B="center",C="bottom",D="___skrollable_id",E=/^(?:input|textarea|button|select)$/i,F=/^\s+|\s+$/g,G=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,H=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,I=/^([a-z\-]+)\[(\w+)\]$/,J=/-([a-z])/g,K=function(a,b){return b.toUpperCase()},L=/[\-+]?[\d]*\.?[\d]+/g,M=/\{\?\}/g,N=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,O=/[a-z\-]+-gradient/g,P="",Q="",R=function(){var a=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(g){var b=g(i,null);for(var c in b)if(P=c.match(a)||+c==c&&b[c].match(a))break;if(!P)return void(P=Q="");P=P[0],"-"===P.slice(0,1)?(Q=P,P={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[P]):Q="-"+P.toLowerCase()+"-"}},S=function(){var b=a.requestAnimationFrame||a[P.toLowerCase()+"RequestAnimationFrame"],c=qa();return!Oa&&b||(b=function(b){var d=qa()-c,e=f.max(0,1e3/60-d);return a.setTimeout(function(){c=qa(),b()},e)}),b},T=function(){var b=a.cancelAnimationFrame||a[P.toLowerCase()+"CancelAnimationFrame"];return!Oa&&b||(b=function(b){return a.clearTimeout(b)}),b},U={begin:function(){return 0},end:function(){return 1},linear:function(a){return a},quadratic:function(a){return a*a},cubic:function(a){return a*a*a},swing:function(a){return-f.cos(a*f.PI)/2+.5},sqrt:function(a){return f.sqrt(a)},outCubic:function(a){return f.pow(a-1,3)+1},bounce:function(a){var b;if(a<=.5083)b=3;else if(a<=.8489)b=9;else if(a<=.96208)b=27;else{if(!(a<=.99981))return 1;b=91}return 1-f.abs(3*f.cos(a*b*1.028)/b)}};V.prototype.refresh=function(a){var d,e,f=!1;for(a===c?(f=!0,ta=[],Ma=0,a=b.getElementsByTagName("*")):a=[].concat(a),d=0,e=a.length;d<e;d++){var g=a[d],h=g,i=[],j=Ia,k=Na;if(g.attributes){for(var l=0,m=g.attributes.length;l<m;l++){var o=g.attributes[l];if("data-anchor-target"!==o.name)if("data-smooth-scrolling"!==o.name)if("data-edge-strategy"!==o.name){var p=o.name.match(G);if(null!==p){var q={props:o.value,element:g};i.push(q);var r=p[1];r&&(q.constant=r.substr(1));var s=p[2];/p$/.test(s)?(q.isPercentage=!0,q.offset=(0|s.slice(0,-1))/100):q.offset=0|s;var t=p[3],u=p[4]||t;t&&t!==z&&t!==A?(q.mode="relative",q.anchors=[t,u]):(q.mode="absolute",t===A?q.isEnd=!0:q.isPercentage||(q.offset=q.offset*ya))}}else k=o.value;else j="off"!==o.value;else if(h=b.querySelector(o.value),null===h)throw'Unable to find anchor target "'+o.value+'"'}if(i.length){var v,w,x;!f&&D in g?(x=g[D],v=ta[x].styleAttr,w=ta[x].classAttr):(x=g[D]=Ma++,v=g.style.cssText,w=ma(g)),ta[x]={element:g,styleAttr:v,classAttr:w,anchorTarget:h,keyFrames:i,smoothScrolling:j,edgeStrategy:k},na(g,[n],[])}}}for(ja(),d=0,e=a.length;d<e;d++){var y=ta[a[d][D]];y!==c&&($(y),aa(y))}return sa},V.prototype.relativeToAbsolute=function(a,b,c){var d=h.clientHeight,e=a.getBoundingClientRect(),f=e.top,g=e.bottom-e.top;return b===C?f-=d:b===B&&(f-=d/2),c===C?f+=g:c===B&&(f+=g/2),f+=sa.getScrollTop(),f+.5|0},V.prototype.animateTo=function(a,b){b=b||{};var d=qa(),e=sa.getScrollTop();return Ha={startTop:e,topDiff:a-e,targetTop:a,duration:b.duration||w,startTime:d,endTime:d+(b.duration||w),easing:U[b.easing||v],done:b.done},Ha.topDiff||(Ha.done&&Ha.done.call(sa,!1),Ha=c),sa},V.prototype.stopAnimateTo=function(){Ha&&Ha.done&&Ha.done.call(sa,!0),Ha=c},V.prototype.isAnimatingTo=function(){return!!Ha},V.prototype.setScrollTop=function(b,c){return La=c===!0,Oa?Pa=f.min(f.max(b,0),xa):a.scrollTo(0,b),sa},V.prototype.getScrollTop=function(){return Oa?Pa:a.pageYOffset||h.scrollTop||i.scrollTop||0},V.prototype.getMaxScrollTop=function(){return xa},V.prototype.on=function(a,b){return va[a]=b,sa},V.prototype.off=function(a){return delete va[a],sa},V.prototype.destroy=function(){var a=T();a(Sa),ia(),na(h,[s],[r,t,u]);for(var b=0,e=ta.length;b<e;b++)ea(ta[b].element);h.style.overflow=i.style.overflow="auto",h.style.height=i.style.height="auto",ua&&d.setStyle(ua,"transform","none"),sa=c,ua=c,va=c,wa=c,xa=0,ya=1,za=c,Aa=c,Ba="down",Ca=-1,Ea=0,Fa=0,Ga=!1,Ha=c,Ia=c,Ja=c,Ka=c,La=c,Ma=0,Na=c,Oa=!1,Pa=0,Qa=c};var W=function(){var d,e,g,n,o,p,q,r,s,t,u,v;ga(h,[j,k,l,m].join(" "),function(a){var h=a.changedTouches[0];for(n=a.target;3===n.nodeType;)n=n.parentNode;switch(o=h.clientY,p=h.clientX,t=a.timeStamp,E.test(n.tagName)||a.preventDefault(),a.type){case j:d&&d.blur(),sa.stopAnimateTo(),d=n,e=q=o,g=p,s=t;break;case k:E.test(n.tagName)&&b.activeElement!==n&&a.preventDefault(),r=o-q,v=t-u,sa.setScrollTop(Pa-r,!0),q=o,u=t;break;default:case l:case m:var i=e-o,w=g-p,x=w*w+i*i;if(x<49){if(!E.test(d.tagName)){d.focus();var y=b.createEvent("MouseEvents");y.initMouseEvent("click",!0,!0,a.view,1,h.screenX,h.screenY,h.clientX,h.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),d.dispatchEvent(y)}return}d=c;var z=r/v;z=f.max(f.min(z,3),-3);var A=f.abs(z/Aa),B=z*A+.5*Aa*A*A,C=sa.getScrollTop()-B,D=0;C>xa?(D=(xa-C)/B,C=xa):C<0&&(D=-C/B,C=0),A*=1-D,sa.animateTo(C+.5|0,{easing:"outCubic",duration:A})}}),a.scrollTo(0,0),h.style.overflow=i.style.overflow="hidden"},X=function(){var c,d,e,g,i,j,k,l,m,n,o,a=h.clientHeight,b=ka();for(l=0,m=ta.length;l<m;l++)for(c=ta[l],d=c.element,e=c.anchorTarget,g=c.keyFrames,i=0,j=g.length;i<j;i++)k=g[i],n=k.offset,o=b[k.constant]||0,k.frame=n,k.isPercentage&&(n*=a,k.frame=n),"relative"===k.mode&&(ea(d),k.frame=sa.relativeToAbsolute(e,k.anchors[0],k.anchors[1])-n,ea(d,!0)),k.frame+=o,wa&&!k.isEnd&&k.frame>xa&&(xa=k.frame);for(xa=f.max(xa,la()),l=0,m=ta.length;l<m;l++){for(c=ta[l],g=c.keyFrames,i=0,j=g.length;i<j;i++)k=g[i],o=b[k.constant]||0,k.isEnd&&(k.frame=xa-k.offset+o);c.keyFrames.sort(ra)}},Y=function(a,b){for(var c=0,f=ta.length;c<f;c++){var t,u,g=ta[c],h=g.element,i=g.smoothScrolling?a:b,j=g.keyFrames,k=j[0].frame,l=j[j.length-1].frame,m=i<k,r=i>l,s=j[m?0:j.length-1];if(m||r){if(m&&g.edge===-1||r&&1===g.edge)continue;switch(na(h,[m?o:q],[o,p,q]),g.edge=m?-1:1,g.edgeStrategy){case"reset":ea(h);continue;case"ease":i=s.frame;break;default:case"set":var v=s.props;for(t in v)e.call(v,t)&&(u=da(v[t].value),d.setStyle(h,t,u));continue}}else 0!==g.edge&&(na(h,[n,p],[o,q]),g.edge=0);for(var w=0,x=j.length-1;w<x;w++)if(i>=j[w].frame&&i<=j[w+1].frame){var y=j[w],z=j[w+1];for(t in y.props)if(e.call(y.props,t)){var A=(i-y.frame)/(z.frame-y.frame);A=y.props[t].easing(A),u=ca(y.props[t].value,z.props[t].value,A),u=da(u),d.setStyle(h,t,u)}break}}},Z=function(){Ga&&(Ga=!1,ja());var b,f,a=sa.getScrollTop(),e=qa();if(Ha)e>=Ha.endTime?(a=Ha.targetTop,b=Ha.done,Ha=c):(f=Ha.easing((e-Ha.startTime)/Ha.duration),a=Ha.startTop+f*Ha.topDiff|0),sa.setScrollTop(a,!0);else if(!La){var g=Ka.targetTop-a;g&&(Ka={startTop:Ca,topDiff:a-Ca,targetTop:a,startTime:Da,endTime:Da+Ja}),e<=Ka.endTime&&(f=U.sqrt((e-Ka.startTime)/Ja),a=Ka.startTop+f*Ka.topDiff|0)}if(Oa&&ua&&d.setStyle(ua,"transform","translate(0, "+-Pa+"px) "+Qa),La||Ca!==a){Ba=a>Ca?"down":a<Ca?"up":Ba,La=!1;var h={curTop:a,lastTop:Ca,maxTop:xa,direction:Ba},i=va.beforerender&&va.beforerender.call(sa,h);i!==!1&&(Y(a,sa.getScrollTop()),Ca=a,va.render&&va.render.call(sa,h)),b&&b.call(sa,!1)}Da=e},$=function(a){for(var b=0,c=a.keyFrames.length;b<c;b++){for(var e,f,g,i,d=a.keyFrames[b],h={};null!==(i=H.exec(d.props));)g=i[1],f=i[2],e=g.match(I),null!==e?(g=e[1],e=e[2]):e=v,f=f.indexOf("!")?_(f):[f.slice(1)],h[g]={value:f,easing:U[e]};d.props=h}},_=function(a){var b=[];return N.lastIndex=0,a=a.replace(N,function(a){return a.replace(L,function(a){return a/255*100+"%"})}),Q&&(O.lastIndex=0,a=a.replace(O,function(a){return Q+a})),a=a.replace(L,function(a){return b.push(+a),"{?}"}),b.unshift(a),b},aa=function(a){var c,d,b={};for(c=0,d=a.keyFrames.length;c<d;c++)ba(a.keyFrames[c],b);for(b={},c=a.keyFrames.length-1;c>=0;c--)ba(a.keyFrames[c],b)},ba=function(a,b){var c;for(c in b)e.call(a.props,c)||(a.props[c]=b[c]);for(c in a.props)b[c]=a.props[c]},ca=function(a,b,c){var d,e=a.length;if(e!==b.length)throw"Can't interpolate between \""+a[0]+'" and "'+b[0]+'"';var f=[a[0]];for(d=1;d<e;d++)f[d]=a[d]+(b[d]-a[d])*c;return f},da=function(a){var b=1;return M.lastIndex=0,a[0].replace(M,function(){return a[b++]})},ea=function(a,b){a=[].concat(a);for(var c,d,e=0,f=a.length;e<f;e++)d=a[e],c=ta[d[D]],c&&(b?(d.style.cssText=c.dirtyStyleAttr,na(d,c.dirtyClassAttr)):(c.dirtyStyleAttr=d.style.cssText,c.dirtyClassAttr=ma(d),d.style.cssText=c.styleAttr,na(d,c.classAttr)))},fa=function(){Qa="translateZ(0)",d.setStyle(ua,"transform",Qa);var a=g(ua),b=a.getPropertyValue("transform"),c=a.getPropertyValue(Q+"transform"),e=b&&"none"!==b||c&&"none"!==c;e||(Qa="")};d.setStyle=function(a,b,c){var d=a.style;if(b=b.replace(J,K).replace("-",""),"zIndex"===b)isNaN(c)?d[b]=c:d[b]=""+(0|c);else if("float"===b)d.styleFloat=d.cssFloat=c;else try{P&&(d[P+b.slice(0,1).toUpperCase()+b.slice(1)]=c),d[b]=c}catch(a){}};var sa,ta,ua,va,wa,za,Aa,Ha,Ia,Ja,Ka,La,Na,Qa,Sa,ga=d.addEvent=function(b,c,d){var e=function(b){return b=b||a.event,b.target||(b.target=b.srcElement),b.preventDefault||(b.preventDefault=function(){b.returnValue=!1}),d.call(this,b)};c=c.split(" ");for(var f,g=0,h=c.length;g<h;g++)f=c[g],b.addEventListener?b.addEventListener(f,d,!1):b.attachEvent("on"+f,e),Ra.push({element:b,name:f,listener:d})},ha=d.removeEvent=function(a,b,c){b=b.split(" ");for(var d=0,e=b.length;d<e;d++)a.removeEventListener?a.removeEventListener(b[d],c,!1):a.detachEvent("on"+b[d],c)},ia=function(){for(var a,b=0,c=Ra.length;b<c;b++)a=Ra[b],ha(a.element,a.name,a.listener);Ra=[]},ja=function(){var a=sa.getScrollTop();xa=0,wa&&!Oa&&(i.style.height="auto"),X(),wa&&!Oa&&(i.style.height=xa+h.clientHeight+"px"),Oa?sa.setScrollTop(f.min(sa.getScrollTop(),xa)):sa.setScrollTop(a,!0),La=!0},ka=function(){var c,d,a=h.clientHeight,b={};for(c in za)d=za[c],"function"==typeof d?d=d.call(sa):/p$/.test(d)&&(d=d.slice(0,-1)/100*a),b[c]=d;return b},la=function(){var a=ua&&ua.offsetHeight||0,b=f.max(a,i.scrollHeight,i.offsetHeight,h.scrollHeight,h.offsetHeight,h.clientHeight);return b-h.clientHeight},ma=function(b){var c="className";return a.SVGElement&&b instanceof a.SVGElement&&(b=b[c],c="baseVal"),b[c]},na=function(b,d,e){var f="className";if(a.SVGElement&&b instanceof a.SVGElement&&(b=b[f],f="baseVal"),e===c)return void(b[f]=d);for(var g=b[f],h=0,i=e.length;h<i;h++)g=pa(g).replace(pa(e[h])," ");g=oa(g);for(var j=0,k=d.length;j<k;j++)pa(g).indexOf(pa(d[j]))===-1&&(g+=" "+d[j]);b[f]=oa(g)},oa=function(a){return a.replace(F,"")},pa=function(a){return" "+a+" "},qa=Date.now||function(){return+new Date},ra=function(a,b){return a.frame-b.frame},xa=0,ya=1,Ba="down",Ca=-1,Da=qa(),Ea=0,Fa=0,Ga=!1,Ma=0,Oa=!1,Pa=0,Ra=[]}(window,document);


( function( $ ) {
	
	// Setup variables
	$window = $(window);
	$slide = $('.homeSlide');
	
	$body = $('body');
	
    //FadeIn all sections   
	$body.imagesLoaded( function() {
		setTimeout(function() {
		      
		      // Resize sections
		      adjustWindow();
		      
		      // Fade in sections
			  $body.removeClass('loading').addClass('loaded');
			  
		}, 800);
	});
	
	function adjustWindow(){

	    // Get window size
	    winH = $window.height();
	    winW = $window.width();

	    // Keep minimum height 550
	    if(winH <= 550) {
	        winH = 550;
	    }

	    // Init Skrollr for 768 and up
	    if( winW >= 768) {

	        // Init Skrollr
	        var s = skrollr.init({
	            forceHeight: false
	        });

	        // Resize our slides
	        $slide.height(winH);

	        s.refresh($('.homeSlide'));

	    } else {

	        // Init Skrollr
	        var s = skrollr.init();
	        s.destroy();
	    }
	
		// Check for touch
	   	if(Modernizr.touch) {

			// Init Skrollr
			var s = skrollr.init();
			s.destroy();
	   	}

	}
	
	function initAdjustWindow() {
	    return {
	        match : function() {
	            adjustWindow();
	        },
	        unmatch : function() {
	            adjustWindow();
	        }
	    };
	}

	enquire.register("screen and (min-width : 768px)", initAdjustWindow(), false)
	        .listen(100);
		
} )( jQuery );